<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Essays — Michael C. Barros</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    .filters{display:flex;flex-wrap:wrap;gap:.5rem;margin:1rem 0 1.5rem}
    .chip{border:1px solid rgba(160,125,59,.3);padding:.35rem .65rem;border-radius:.5rem;
      background:#fff;cursor:pointer}
    .chip.active{background:#243A7E;color:#F7F4EE;border-color:#243A7E}
    .grid{display:grid;gap:16px}
    @media(min-width:900px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:#fff;border:1px solid rgba(160,125,59,.2);border-radius:10px;padding:16px;
      text-decoration:none;color:inherit;transition:.2s border-color,.2s box-shadow,.2s transform}
    .card:hover{border-color:rgba(160,125,59,.45);box-shadow:0 10px 26px rgba(0,0,0,.08);transform:translateY(-2px)}
    .badge{display:inline-block;border:1px solid rgba(160,125,59,.35);color:#A07D3B;
      font-family:ui-monospace, Menlo, monospace;font-size:.75rem;padding:.15rem .45rem;border-radius:.4rem}
    .muted{color:#6E6E6E}
    .section-head{display:flex;justify-content:space-between;align-items:center;margin:24px 0 12px}
    .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(160,125,59,.5),transparent);margin:24px 0}
    .empty{text-align:center;color:#6E6E6E;border:1px dashed rgba(160,125,59,.25);padding:2rem;border-radius:.5rem}
    /* Modal (Reader Mode) */
    .modal{position:fixed;inset:0;background:#F7F4EE;overflow:auto;z-index:50;display:none}
    .modal.open{display:block}
    .modal .inner{max-width:900px;margin:0 auto;padding:24px}
    .meta{color:#6E6E6E;font-size:.9rem;margin:.25rem 0 1rem;display:flex;gap:12px;align-items:center}
    blockquote{border-left:4px solid #A07D3B;background:rgba(160,125,59,.05);padding:12px 16px;font-style:italic}
    h1,h2,h3,h4{font-family:"EB Garamond",serif}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <a href="../index.html">← Home</a>
    </header>

    <section>
      <h1>Essays</h1>
      <p class="muted">Short and long-form writing on religion, imagination, and cultural media.</p>
      <div class="divider"></div>

      <!-- Substack section -->
      <div class="section-head">
        <h2>From Substack</h2>
        <a class="muted" id="substack-view-all" target="_blank" rel="noopener">Open Substack →</a>
      </div>
      <div id="substack-feed" class="grid"></div>

      <div class="divider"></div>

      <!-- Filters -->
      <div class="section-head">
        <h2>Archive</h2>
        <small class="muted">Filter by category</small>
      </div>
      <div id="filters" class="filters"></div>

      <!-- Essays grid -->
      <div id="essays-grid" class="grid"></div>
    </section>
  </div>

  <!-- Modal (Reader Mode) -->
  <div id="reader-modal" class="modal" aria-hidden="true">
    <div class="inner">
      <p><a href="#" id="close-reader">← Back to Essays</a></p>
      <div id="reader-meta" class="meta"></div>
      <h1 id="reader-title"></h1>
      <p id="reader-thesis" class="muted" style="font-style:italic"></p>
      <div class="divider"></div>
      <article id="reader-content"></article>
      <div class="divider"></div>
      <p><a href="#" id="close-reader-bottom">Close</a></p>
    </div>
  </div>

  <script src="../data/data.js"></script>
  <script src="../js/essays.js"></script>
</body>
</html>
